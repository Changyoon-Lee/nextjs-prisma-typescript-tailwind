(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(469)}])},1421:function(e,n,r){"use strict";r.d(n,{Z:function(){return i}});var t=r(5893);var s=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.join(" ")},o=r(902),a=r(1664),c=r.n(a),l=r(1163);function i(e){var n=e.title,r=e.canGoBack,a=e.hasTabBar,i=e.hasSetting,u=e.children,d=(0,l.useRouter)();return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"fixed bg-white max-w-xl m-auto top-0 h-14 border-b inset-x-0 px-3 flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center",children:[r?(0,t.jsx)("svg",{onClick:function(){d.back()},xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"w-7 h-7 text-gray-700 cursor-pointer",children:(0,t.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l-7 7 7 7"})}):null,n?(0,t.jsx)("span",{className:"font-bold px-2",children:n}):null]}),i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-gray-100",children:"\ub098\uc758 \ub2f9\uadfc"}),(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"cursor-pointer w-8 h-8 text-gray-800 hover:text-orange-800",children:[(0,t.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2",d:"M10.47 4.32c.602-1.306 2.458-1.306 3.06 0l.218.473a1.684 1.684 0 002.112.875l.49-.18c1.348-.498 2.66.814 2.162 2.163l-.18.489a1.684 1.684 0 00.875 2.112l.474.218c1.305.602 1.305 2.458 0 3.06l-.474.218a1.684 1.684 0 00-.875 2.112l.18.49c.498 1.348-.814 2.66-2.163 2.162l-.489-.18a1.684 1.684 0 00-2.112.875l-.218.473c-.602 1.306-2.458 1.306-3.06 0l-.218-.473a1.684 1.684 0 00-2.112-.875l-.49.18c-1.348.498-2.66-.814-2.163-2.163l.181-.489a1.684 1.684 0 00-.875-2.112l-.474-.218c-1.305-.602-1.305-2.458 0-3.06l.474-.218a1.684 1.684 0 00.875-2.112l-.18-.49c-.498-1.348.814-2.66 2.163-2.163l.489.181a1.684 1.684 0 002.112-.875l.218-.474z"})]})]}):null]}),(0,t.jsx)("div",{className:s("pt-14",a?"pb-24":""),children:u}),a?(0,t.jsxs)("nav",{className:"fixed bottom-0 bg-white text-gray-800 max-w-xl w-full flex justify-around border-t text-xs pt-3 pb-2 space-x-2",children:[(0,t.jsx)(c(),{href:"/",children:(0,t.jsxs)("a",{className:"flex flex-col items-center space-y-1 hover:bg-gray-100",children:[(0,t.jsx)("img",{src:"".concat(o.O,"/icons/home").concat("/"===d.pathname?"_dark":"",".png"),alt:"home",className:"w-7 h-7"}),(0,t.jsx)("span",{children:"\ud648"})]})}),(0,t.jsx)(c(),{href:"/",children:(0,t.jsxs)("a",{className:"flex flex-col items-center space-y-1 hover:bg-gray-100",children:[(0,t.jsx)("img",{src:"".concat(o.O,"/icons/house").concat("/dongne"===d.pathname?"_dark":"",".png"),alt:"home",className:"w-7 h-7"}),(0,t.jsx)("span",{children:"\ub3d9\ub124\uc0dd\ud65c"})]})}),(0,t.jsx)(c(),{href:"/",children:(0,t.jsxs)("a",{className:"flex flex-col items-center space-y-1 hover:bg-gray-100",children:[(0,t.jsx)("img",{src:"".concat(o.O,"/icons/location").concat("/place"===d.pathname?"_dark":"",".png"),alt:"home",className:"w-7 h-7"}),(0,t.jsx)("span",{children:"\ub0b4 \uadfc\ucc98"})]})}),(0,t.jsx)(c(),{href:"/chats",children:(0,t.jsxs)("a",{className:"flex flex-col items-center space-y-1 hover:bg-gray-100",children:[(0,t.jsx)("img",{src:"".concat(o.O,"/icons/chat").concat("/chats"===d.pathname?"_dark":"",".png"),alt:"home",className:"w-7 h-7"}),(0,t.jsx)("span",{children:"\ucc44\ud305"})]})}),(0,t.jsx)(c(),{href:"/profile",children:(0,t.jsxs)("a",{className:"flex flex-col items-center space-y-1 hover:bg-gray-100",children:[(0,t.jsx)("img",{src:"".concat(o.O,"/icons/user").concat("/profile"===d.pathname?"_dark":"",".png"),alt:"home",className:"w-7 h-7"}),(0,t.jsx)("span",{children:"\ub098\uc758 \ub2f9\uadfc"})]})})]}):null]})}},548:function(e,n,r){"use strict";r.d(n,{Z:function(){return a}});var t=r(7294);function s(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){s(e,n,r[n])}))}return e}function a(e){var n=(0,t.useState)({loading:!1}),r=n[0],s=n[1];return[function(n){s({loading:!0}),fetch(e,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json().catch((function(){}))})).then((function(e){s((function(n){return o({},n,{data:e,loading:!1})}))})).then((function(){console.log("mutation:",r)})).catch((function(e){return s((function(n){return o({},n,{error:e,loading:!1})}))}))},o({},r)]}},469:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return f}});var t=r(5893),s=r(1421),o=r(548),a=r(8100),c=r(1163),l=r(7294);var i=r(1664),u=r.n(i);function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function h(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,s,o=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);a=!0);}catch(l){c=!0,s=l}finally{try{a||null==r.return||r.return()}finally{if(c)throw s}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return d(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=function(){var e,n=h((0,o.Z)("/api/users/logout"),2),r=n[0],i=n[1].data,d=(0,c.useRouter)(),f=function(){var e=(0,a.ZP)("/api/users/me"),n=e.data,r=e.error,t=(0,c.useRouter)();return(0,l.useEffect)((function(){n&&!n.ok&&(console.log("useUser's data:",n),t.replace("/log-in"))}),[n,t]),{user:null===n||void 0===n?void 0:n.profile,isLoading:!n&&!r}}(),x=f.user,p=f.isLoading,m=(0,a.ZP)("/api/post").data;return console.log(m,p),(0,l.useEffect)((function(){i&&d.push("/log-in")}),[i]),(0,t.jsx)(s.Z,{title:"\uc0c1\ubd09\uc81c2\ub3d9",hasTabBar:!0,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{onClick:function(){r("")},children:"logout"}),(0,t.jsxs)("h1",{children:["your Posts ",null===x||void 0===x?void 0:x.name]}),null===m||void 0===m||null===(e=m.posts)||void 0===e?void 0:e.map((function(e){return(0,t.jsx)(u(),{href:"/tweet/".concat(e.id),children:(0,t.jsxs)("div",{className:"border-2 rounded-lg m-10",children:[(0,t.jsx)("div",{className:"text-right text-xs border-b-2 bg-blue-100 p-3",children:e.updated.toString()}),(0,t.jsx)("div",{className:"p-3",children:e.message}),(0,t.jsxs)("div",{className:"flex justify-end space-x-5 pr-5",children:[(0,t.jsxs)("div",{className:"space-x-2",children:[(0,t.jsx)("span",{children:"\u2764\ufe0f"}),(0,t.jsx)("span",{className:"inline-block w-6",children:e._count.Fav})]}),(0,t.jsxs)("div",{className:"space-x-2",children:[(0,t.jsx)("span",{children:"\ud83d\udcac"}),(0,t.jsx)("span",{className:"inline-block w-6",children:"1000"})]})]})]})},e.id)})),(0,t.jsx)("div",{onClick:function(){d.push("/tweet/post")},className:"bg-orange-500 shadow-sm shadow-gray-500 active:bg-orange-400 active:shadow-lg rounded-full fixed right-5 bottom-20 cursor-pointer",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"text-white w-8 h-8 m-3",children:(0,t.jsx)("g",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:(0,t.jsx)("path",{d:"M12 19V5M19 12H5"})})})})]})})}}},function(e){e.O(0,[424,774,888,179],(function(){return n=8312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);